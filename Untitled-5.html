<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Online Study — Virtual Campus</title>
    <style>
        :root{
            --primary:#0b6efd; --muted:#6b7280; --bg:#f6f8fb; --card:#ffffff;
            --radius:10px; font-family:Inter,Segoe UI,Helvetica,Arial,sans-serif;
        }
        *{box-sizing:border-box}
        body{margin:0;background:var(--bg);color:#0f1724;line-height:1.4}
        header{background:linear-gradient(90deg,#fff 0%, #f8fbff 100%);border-bottom:1px solid #e6eefb;padding:12px 18px;position:sticky;top:0;z-index:20;}
        .container{max-width:1100px;margin:0 auto;padding:18px}
        .brand{display:flex;gap:12px;align-items:center}
        .logo{width:46px;height:46px;border-radius:8px;background:var(--primary);display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:18px}
        nav{display:flex;gap:12px;margin-left:24px;align-items:center}
        .topbar{display:flex;justify-content:space-between;align-items:center}
        .navlinks a{color:var(--muted);text-decoration:none;padding:8px 10px;border-radius:8px}
        .navlinks a.active, .navlinks a:hover{background:#eef6ff;color:var(--primary)}
        .actions{display:flex;gap:8px;align-items:center}
        button{cursor:pointer;border:0;padding:10px 14px;border-radius:8px;background:var(--primary);color:white}
        .outline{background:transparent;color:var(--primary);border:1px solid rgba(11,110,253,0.12)}
        main{padding:28px 0}
        .hero{display:flex;align-items:center;gap:28px;padding:28px;background:linear-gradient(180deg,#fff,#fbfdff);border-radius:12px}
        .hero h1{margin:0;font-size:28px}
        .search{display:flex;gap:10px;margin-top:12px}
        .search input{flex:1;padding:10px;border-radius:8px;border:1px solid #e5eefb}
        .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-top:18px}
        .card{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 1px 4px rgba(12,35,63,0.06);display:flex;flex-direction:column;gap:8px}
        .course-meta{display:flex;align-items:center;gap:10px}
        .chip{background:#eef6ff;color:var(--primary);padding:6px 8px;border-radius:999px;font-size:12px}
        .muted{color:var(--muted);font-size:13px}
        .footer{padding:24px;text-align:center;color:var(--muted);font-size:13px;margin-top:24px}
        /* Dashboard */
        #dashboard{display:none;margin-top:18px}
        .toolbar{display:flex;justify-content:space-between;align-items:center;gap:12px}
        .small{font-size:13px}
        /* modal */
        .modal-back{position:fixed;inset:0;background:rgba(5,10,20,0.45);display:none;align-items:center;justify-content:center;padding:20px}
        .modal{background:white;padding:18px;border-radius:10px;max-width:520px;width:100%}
        .close{background:transparent;border:0;font-size:18px;cursor:pointer;color:var(--muted)}
        @media (max-width:720px){
            .hero{flex-direction:column;align-items:flex-start}
            nav{display:none}
        }
    </style>
</head>
<body>
    <header>
        <div class="container topbar">
            <div style="display:flex;align-items:center">
                <div class="brand">
                    <div class="logo">OS</div>
                    <div>
                        <div style="font-weight:700">Online Study</div>
                        <div style="font-size:12px;color:var(--muted)">Virtual learning platform</div>
                    </div>
                </div>
                <nav class="navlinks" aria-label="Main navigation" style="margin-left:18px">
                    <a href="#" class="active" data-view="home">Home</a>
                    <a href="#" data-view="courses">Courses</a>
                    <a href="#" data-view="dashboard">Dashboard</a>
                    <a href="#" data-view="about">About</a>
                </nav>
            </div>
            <div class="actions">
                <div id="userDisplay" class="small muted">Not signed in</div>
                <button id="loginBtn" class="outline">Sign In</button>
                <button id="signupBtn">Sign Up</button>
            </div>
        </div>
    </header>

    <main class="container">
        <section id="homeView">
            <div class="hero">
                <div style="flex:1">
                    <h1>Study from anywhere — Online Study</h1>
                    <p class="muted">Access courses, track progress and get certificates — all in one place.</p>
                    <div class="search" role="search" aria-label="Search courses">
                        <input id="searchInput" placeholder="Search courses by title or tag…" />
                        <button id="searchBtn" class="outline">Search</button>
                    </div>
                    <div style="margin-top:12px">
                        <button id="browseBtn">Browse Courses</button>
                        <button id="demoBtn" class="outline">Watch demo</button>
                    </div>
                </div>
                <div style="width:320px">
                    <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='320' height='180'><rect rx='10' width='100%' height='100%' fill='%230b6efd'/><text x='50%' y='50%' font-size='26' fill='white' dominant-baseline='middle' text-anchor='middle'>Welcome</text></svg>" alt="illustration" style="width:100%;border-radius:10px;display:block" />
                </div>
            </div>

            <h3 style="margin-top:18px">Featured courses</h3>
            <div id="coursesGrid" class="grid" aria-live="polite"></div>
        </section>

        <section id="coursesView" style="display:none">
            <div class="toolbar">
                <h2>All Courses</h2>
                <div>
                    <select id="filterTag">
                        <option value="">All categories</option>
                    </select>
                </div>
            </div>
            <div id="allCourses" class="grid" style="margin-top:12px"></div>
        </section>

        <section id="dashboard" aria-live="polite">
            <h2>Your Dashboard</h2>
            <div id="welcome" class="muted small" style="margin-bottom:12px"></div>
            <div style="display:flex;gap:12px;flex-wrap:wrap">
                <div class="card" style="flex:1;min-width:260px">
                    <h3 style="margin:0 0 8px 0">Enrolled courses</h3>
                    <div id="enrolledList" class="muted small">No courses yet.</div>
                </div>
                <div class="card" style="min-width:260px">
                    <h3 style="margin:0 0 8px 0">Announcements</h3>
                    <div id="announcements" class="muted small">
                        <p><strong>Welcome:</strong> This is a demo site — progress is stored in your browser.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="aboutView" style="display:none;margin-top:18px">
            <div class="card">
                <h2>About Online Study</h2>
                <p class="muted">Online Study is a simple demo learning platform inspired by common virtual campus features. Use it to prototype UI and workflows.</p>
            </div>
        </section>

        <div class="footer">Online Study — Demo virtual campus • Local-only demo</div>
    </main>

    <!-- Modals -->
    <div id="modalRoot" class="modal-back" role="dialog" aria-modal="true">
        <div class="modal" id="modalContent">
            <!-- dynamic -->
        </div>
    </div>

    <script>
        // Simple demo data and UI logic. Not a production auth system.
        const data = {
            courses: [
                {id:1,title:"Introduction to Programming",tag:"Computer Science",desc:"Learn programming basics in Python.",lessons:12},
                {id:2,title:"Web Development Bootcamp",tag:"Web",desc:"HTML, CSS, JavaScript and modern tooling.",lessons:18},
                {id:3,title:"Data Analysis with Excel",tag:"Data",desc:"Master spreadsheets and data visualization.",lessons:8},
                {id:4,title:"Digital Marketing Essentials",tag:"Marketing",desc:"SEO, ads and social strategies.",lessons:10},
                {id:5,title:"Project Management Fundamentals",tag:"Management",desc:"Agile, Scrum and PM skills.",lessons:9},
                {id:6,title:"Advanced JavaScript",tag:"Web",desc:"Deep dive into modern JavaScript patterns.",lessons:14}
            ],
            users: [] // demo only
        };

        const state = {
            user: JSON.parse(localStorage.getItem('os_user')) || null,
            enrolled: JSON.parse(localStorage.getItem('os_enrolled')||'[]')
        };

        // Elements
        const coursesGrid = document.getElementById('coursesGrid');
        const allCourses = document.getElementById('allCourses');
        const filterTag = document.getElementById('filterTag');
        const userDisplay = document.getElementById('userDisplay');
        const loginBtn = document.getElementById('loginBtn');
        const signupBtn = document.getElementById('signupBtn');
        const modalRoot = document.getElementById('modalRoot');
        const modalContent = document.getElementById('modalContent');
        const enrolledList = document.getElementById('enrolledList');
        const welcome = document.getElementById('welcome');

        // Navigation
        document.querySelectorAll('[data-view]').forEach(a=>{
            a.addEventListener('click', (e)=>{
                e.preventDefault();
                const view = a.dataset.view;
                showView(view);
                document.querySelectorAll('.navlinks a').forEach(n=>n.classList.remove('active'));
                a.classList.add('active');
            });
        });

        function showView(v){
            document.getElementById('homeView').style.display = v==='home' ? '' : 'none';
            document.getElementById('coursesView').style.display = v==='courses' ? '' : 'none';
            document.getElementById('dashboard').style.display = v==='dashboard' ? '' : 'none';
            document.getElementById('aboutView').style.display = v==='about' ? '' : 'none';
            if(v==='dashboard') renderDashboard();
        }

        // Render course cards
        function renderCourses(list, container){
            container.innerHTML = '';
            list.forEach(c=>{
                const div = document.createElement('div');
                div.className = 'card';
                div.innerHTML = `
                    <div style="display:flex;justify-content:space-between;align-items:center">
                        <div>
                            <div style="font-weight:700">${escapeHtml(c.title)}</div>
                            <div class="muted" style="font-size:13px">${escapeHtml(c.desc)}</div>
                        </div>
                        <div class="chip">${escapeHtml(c.tag)}</div>
                    </div>
                    <div class="course-meta">
                        <div class="muted small">${c.lessons} lessons</div>
                        <div style="margin-left:auto">
                            <button data-id="${c.id}" class="outline viewBtn">View</button>
                            <button data-id="${c.id}" class="enrollBtn">${state.enrolled.includes(c.id) ? 'Open' : 'Enroll'}</button>
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // initial render
        function init(){
            populateFilter();
            renderCourses(data.courses.slice(0,4), coursesGrid);
            renderCourses(data.courses, allCourses);
            updateUserUI();
            attachCourseEvents();
        }

        function populateFilter(){
            const tags = [...new Set(data.courses.map(c=>c.tag))];
            tags.forEach(t=>{
                const opt = document.createElement('option'); opt.value = t; opt.textContent = t; filterTag.appendChild(opt);
            });
            filterTag.addEventListener('change', ()=> {
                const val = filterTag.value;
                const list = val ? data.courses.filter(c=>c.tag===val) : data.courses;
                renderCourses(list, allCourses);
                attachCourseEvents();
            });
        }

        function attachCourseEvents(){
            document.querySelectorAll('.viewBtn').forEach(b=>{
                b.onclick = ()=> openCourseModal(parseInt(b.dataset.id,10));
            });
            document.querySelectorAll('.enrollBtn').forEach(b=>{
                b.onclick = ()=>{
                    const id = parseInt(b.dataset.id,10);
                    if(!state.user){
                        openAuthModal('login', 'Please sign in to enroll');
                        return;
                    }
                    toggleEnroll(id);
                    init(); // refresh UI buttons
                };
            });
        }

        function openCourseModal(id){
            const c = data.courses.find(x=>x.id===id);
            if(!c) return;
            showModal(`
                <div style="display:flex;justify-content:space-between;align-items:start;gap:12px">
                    <div style="flex:1">
                        <h2 style="margin:0 0 8px 0">${escapeHtml(c.title)}</h2>
                        <div class="muted">${escapeHtml(c.desc)}</div>
                        <ul style="margin-top:12px">
                            <li>Lessons: ${c.lessons}</li>
                            <li>Category: ${escapeHtml(c.tag)}</li>
                        </ul>
                        <div style="margin-top:12px">
                            <button id="modalEnrollBtn">${state.enrolled.includes(id)?'Open Course':'Enroll'}</button>
                            <button id="modalClose" class="outline">Close</button>
                        </div>
                    </div>
                </div>
            `);
            document.getElementById('modalClose').onclick = closeModal;
            document.getElementById('modalEnrollBtn').onclick = ()=>{
                if(!state.user){
                    closeModal();
                    openAuthModal('login','Sign in to enroll');
                    return;
                }
                toggleEnroll(id);
                renderDashboard();
                closeModal();
                init();
            };
        }

        function toggleEnroll(id){
            const idx = state.enrolled.indexOf(id);
            if(idx===-1){
                state.enrolled.push(id);
            } else {
                state.enrolled.splice(idx,1);
            }
            localStorage.setItem('os_enrolled', JSON.stringify(state.enrolled));
        }

        function renderDashboard(){
            if(!state.user){
                enrolledList.innerHTML = '<div class="muted">Please sign in to view your dashboard.</div>';
                welcome.textContent = '';
                return;
            }
            welcome.textContent = `Signed in as ${state.user.username}`;
            if(state.enrolled.length===0){
                enrolledList.innerHTML = '<div class="muted">You have no enrolled courses. Explore courses to enroll.</div>';
            } else {
                enrolledList.innerHTML = '';
                state.enrolled.forEach(id=>{
                    const c = data.courses.find(x=>x.id===id);
                    if(c){
                        const div = document.createElement('div');
                        div.style.display='flex';div.style.justifyContent='space-between';div.style.marginBottom='8px';
                        div.innerHTML = `<div><strong>${escapeHtml(c.title)}</strong><div class="muted small">${escapeHtml(c.tag)}</div></div><div><button data-id="${c.id}" class="openCourse small">Open</button></div>`;
                        enrolledList.appendChild(div);
                    }
                });
                enrolledList.querySelectorAll('.openCourse').forEach(b=>{
                    b.onclick = ()=> openCourseModal(parseInt(b.dataset.id,10));
                });
            }
        }

        // Simple auth modal
        loginBtn.onclick = ()=> openAuthModal('login');
        signupBtn.onclick = ()=> openAuthModal('signup');

        function openAuthModal(mode='login', message=''){
            showModal(`
                <div style="display:flex;justify-content:space-between;align-items:center">
                    <h3 style="margin:0">${mode==='login'?'Sign in':'Sign up'}</h3>
                    <button class="close" id="closeX">&times;</button>
                </div>
                <p class="muted small">${escapeHtml(message)}</p>
                <div style="margin-top:8px">
                    <label style="display:block;margin-bottom:6px">Username</label>
                    <input id="authUser" style="width:100%;padding:8px;border-radius:8px;border:1px solid #e6eefb"/>
                </div>
                <div style="margin-top:8px">
                    <label style="display:block;margin-bottom:6px">Password</label>
                    <input id="authPass" type="password" style="width:100%;padding:8px;border-radius:8px;border:1px solid #e6eefb"/>
                </div>
                <div style="margin-top:12px;display:flex;gap:8px;justify-content:flex-end">
                    <button id="authCancel" class="outline">Cancel</button>
                    <button id="authSubmit">${mode==='login'?'Sign in':'Create account'}</button>
                </div>
            `);
            document.getElementById('closeX').onclick = closeModal;
            document.getElementById('authCancel').onclick = closeModal;
            document.getElementById('authSubmit').onclick = ()=>{
                const u = document.getElementById('authUser').value.trim();
                const p = document.getElementById('authPass').value;
                if(!u || !p){ alert('Enter username and password'); return; }
                if(mode==='signup'){
                    // create user (demo)
                    const exists = data.users.find(x=>x.username===u);
                    if(exists){ alert('Username exists'); return; }
                    const newUser = {username:u,password:p};
                    data.users.push(newUser);
                    state.user = {username:u};
                    localStorage.setItem('os_user', JSON.stringify(state.user));
                    closeModal();
                    updateUserUI();
                } else {
                    const user = data.users.find(x=>x.username===u && x.password===p);
                    if(!user){ alert('Invalid credentials (demo). You may sign up first.'); return; }
                    state.user = {username:user.username};
                    localStorage.setItem('os_user', JSON.stringify(state.user));
                    closeModal();
                    updateUserUI();
                }
            };
        }

        function updateUserUI(){
            if(state.user){
                userDisplay.textContent = state.user.username;
                loginBtn.textContent = 'Sign out';
                loginBtn.onclick = ()=> { signOut(); };
                signupBtn.style.display = 'none';
            } else {
                userDisplay.textContent = 'Not signed in';
                loginBtn.textContent = 'Sign In';
                loginBtn.onclick = ()=> openAuthModal('login');
                signupBtn.style.display = '';
                signupBtn.onclick = ()=> openAuthModal('signup');
            }
            renderDashboard();
            attachCourseEvents();
        }

        function signOut(){
            state.user = null;
            localStorage.removeItem('os_user');
            updateUserUI();
        }

        // Modal helpers
        function showModal(html){
            modalContent.innerHTML = html;
            modalRoot.style.display = 'flex';
            modalRoot.onclick = (e)=> { if(e.target===modalRoot) closeModal(); };
        }
        function closeModal(){ modalRoot.style.display='none'; modalContent.innerHTML=''; modalRoot.onclick=null; }

        // Search
        document.getElementById('searchBtn').onclick = ()=> doSearch();
        document.getElementById('searchInput').onkeydown = (e)=> { if(e.key==='Enter') doSearch(); };
        function doSearch(){
            const q = document.getElementById('searchInput').value.trim().toLowerCase();
            if(!q){ renderCourses(data.courses.slice(0,4), coursesGrid); return; }
            const res = data.courses.filter(c => c.title.toLowerCase().includes(q) || c.tag.toLowerCase().includes(q) || c.desc.toLowerCase().includes(q));
            renderCourses(res, coursesGrid);
            attachCourseEvents();
        }

        // Utilities
        function escapeHtml(s){ return String(s).replace(/[&<>"']/g, c=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[c])); }

        // initial load
        init();

        // Optional: demo accounts for convenience
        // NOTE: this is a demo; in real apps use secure server-side auth
        data.users.push({username:'student', password:'demo'});
    </script>
</body>
</html>